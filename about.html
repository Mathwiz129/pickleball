<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>About â€“ Chattpickleball</title>
  <style>
    html {
      scrollbar-gutter: stable;
    }
    body {
      font-family: sans-serif;
      background: #f5f5f5;
      margin: 0;
    }
    header {
      background: #3d9970;
      color: white;
      padding: 1em;
      text-align: center;
    }
    main {
      max-width: 800px;
      margin: 2em auto;
      padding: 2em;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    h2 {
      color: #3d9970;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.3em;
      margin-top: 2em;
    }
    a {
      color: #3d9970;
      font-weight: bold;
    }
    .edit-btn {
  margin-top: 1em;
  padding: 0.75em 1.5em;
  font-size: 1em;
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.edit-btn:hover {
  background: #c82333;
}
  </style>
</head>
<body>
  <header><h1>About Chattpickleball</h1></header>
  <main>
    <h2>About</h2>
    <p>
      Chattpickleball is a really barebones app built for a small group of Chattanooga-area players who just want to track games.
    Itâ€™s not meant for broad public use (at least not yet), but if youâ€™ve stumbled across it you can definitely use it-just be careful.
    </p>
    <p>
     Technically, data is public. But thereâ€™s no search or indexing, and unless youâ€™re poking around in developer tools, most info is hard to get to. Itâ€™s not secure in a traditional sense, but for our tiny use case, it's fine for now.
    </p>
    <p>
      If this ever does expand-adding logins, match verification, privacy layers-Iâ€™m open to it. But right now itâ€™s a side project designed for a specific group. Feedback always welcome.
    </p>

    <h2>How Rankings Are Calculated</h2>
    <p>
      Each playerâ€™s rating is calculated on a <strong>scale from 1.00 to 10.00</strong>, based on:
    </p>
    <ul>
      <li><strong>Win ratio</strong> (wins Ã· matches played)</li>
      <li><strong>Average scoring margin</strong> (points scored minus points allowed per match)</li>
      <li><strong>Match volume</strong> (slight penalty applied if fewer than 3 total matches)</li>
    </ul>

    <p>The formula used to calculate each playerâ€™s rating is:</p>

    <pre style="background:#f9f9f9; padding:1em; border-radius:6px; overflow:auto;">
rating = 5 + ((winRatio - 0.5) Ã— 10) + (avgMargin Ã· 5) - penalty
    </pre>

    <p><strong>Where:</strong></p>
    <ul>
      <li><code>winRatio</code> = wins / total matches</li>
      <li><code>avgMargin</code> = (total points scored - total points allowed) / total matches</li>
      <li><code>penalty</code> = 1.0 if matches played &lt; 3, otherwise 0</li>
    </ul>

    <p>
      Ratings are clamped between <strong>1.00 and 10.00</strong> to keep things fair and intuitive.
      Players start near 5.00 and rise as they win with consistency and strong margins.
    </p>

    <h4>Example</h4>
    <p>
      If a player has played 8 matches with 6 wins, scored 88 points and allowed 64:
    </p>
    <pre style="background:#f9f9f9; padding:1em; border-radius:6px; overflow:auto;">
winRatio = 6 / 8 = 0.75
avgMargin = (88 - 64) / 8 = 3
rating = 5 + ((0.75 - 0.5) Ã— 10) + (3 Ã· 5) = 8.10
    </pre>

    <p>
      If that same player had only played 2 matches, a 1.0 penalty would lower their rating to 7.10.
    </p>

    <h2>Changelogs</h2>
    <p>See whatâ€™s new, whatâ€™s fixed, and whatâ€™s coming next:</p>
    <p><a href="updates.html">View Full Updates Log â†’</a></p>
    <h2></h2>
    <button id="editPlayerBtn" class="edit-btn">ðŸ›  Edit Players</button>
  </main>


  <script src="nav.js"></script>
</body>
<script>
  document.getElementById("editPlayerBtn")?.addEventListener("click", () => {
    const player = prompt("Enter the exact name of the player you'd like to edit or remove:");
    if (player) {
      const confirmed = confirm(`Are you sure you want to remove "${player}" from the database? This cannot be undone.`);
      if (confirmed) {
        firebase.firestore().collection("users").doc(player).delete().then(() => {
          alert("Player removed.");
          window.location.href = "index.html";
        }).catch(err => {
          console.error("Error removing player:", err);
          alert("Error: Player not found or failed to delete.");
        });
      }
    }
  });
</script>
</html>